<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ToTaL Engineering</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./graphics/BuffaloBadger_16_16.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://buffalobadger.github.io" class="navbar-brand navbar-brand-logo">
    <img src="./graphics/Banner.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/RE_Basics"> 
<span class="menu-text">Reaction Engineering Basics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/SCoRE"> 
<span class="menu-text">SCoRE</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">ToTaL Engineering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/The_Sett"> 
<span class="menu-text">The Sett</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./about_react_eng.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Problem-Solving Course</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./early_years.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Early Years</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./about_energy_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Discussion Course</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./initial_offering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Initial Offering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./total_ps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Archive</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#about-my-problem-solving-course" id="toc-about-my-problem-solving-course" class="nav-link active" data-scroll-target="#about-my-problem-solving-course">About My Problem-Solving Course</a>
  <ul class="collapse">
  <li><a href="#course-offerings" id="toc-course-offerings" class="nav-link" data-scroll-target="#course-offerings">Course Offerings</a></li>
  <li><a href="#the-purpose-and-basis-for-assessment" id="toc-the-purpose-and-basis-for-assessment" class="nav-link" data-scroll-target="#the-purpose-and-basis-for-assessment">The Purpose and Basis for Assessment</a></li>
  <li><a href="#the-assessment-method" id="toc-the-assessment-method" class="nav-link" data-scroll-target="#the-assessment-method">The Assessment Method</a></li>
  <li><a href="#assessment-of-the-course" id="toc-assessment-of-the-course" class="nav-link" data-scroll-target="#assessment-of-the-course">Assessment of the Course</a></li>
  <li><a href="#course-revision-goals" id="toc-course-revision-goals" class="nav-link" data-scroll-target="#course-revision-goals">Course Revision Goals</a></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions">Conclusions</a></li>
  <li><a href="#cited-references" id="toc-cited-references" class="nav-link" data-scroll-target="#cited-references">Cited References</a></li>
  </ul></li>
  <li><a href="#license" id="toc-license" class="nav-link" data-scroll-target="#license">License</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="graphics/ToTaL_Eng_Logo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Blackboard with BuffaloBadger's ToTaL Engineering written on it" width="400"></p>
</figure>
</div>
<section id="about-my-problem-solving-course" class="level2 ch">
<h2 class="ch anchored" data-anchor-id="about-my-problem-solving-course">About My Problem-Solving Course</h2>
<p>In one type of engineering problem-solving course[refs?], the instructor presents theories, derives and simplifies equations and shows how to use the theory and equations to answer questions about the performance or behavior of some process or system. The learning outcomes in this kind of problem-solving course center around the learner being able to formulate and solve equations to answer a variety of questions about systems or processes to which the theory applies. The problems in this kind of problem-solving course are typically “story problems.” That is, they take the form of a few written paragraphs that provide some information and then ask one or more questions.</p>
<p>In a common approach to teaching this type of problem-solving course, the instructor delivers didactic lectures in class. Homework problems are regularly assigned to the students. The homework problems are graded and returned to the students, and the homework grades become some fraction of the final course grade. At periodic intervals, the students take exams where they are asked to solve similar problems. The exams are graded and become a larger fraction of the final course grade. In this first of three papers, one particular example of this type of problem-solving course taught using ths common approach is assessed. A number of shortcomings are identified and discussed, and pedagogic changes to address those shortcomings are suggested. The second paper describes the the redesign of the overall course structure and its re-assessesment, and third paper describes the redesign of homework, feedback and exams and final assessment of the resulting course.</p>
<p>The course being assessed here is a required, upper-division chemical engineering course on chemical reaction kinetics and reaction engineering. Broadly, students learn to solve five types of problems in the course: rate expression generation (e.g.&nbsp;from a reaction mechanism), kinetics data analysis, isolated reactor modeling, reactor systems modeling and non-ideal reactor modeling. The same equations (mole and energy balances on ideal reactors) are used to solve the kinetics data analysis, isolated reactor modeling and reactor system modeling problem types, but the equations are used in different ways: parameter estimation, calculation of response, system optimization and system design. The course is offered once per year, in the fall semester. The author has taught all but 3 offerings (1998, 1999 and 2000) of this course since 1986. From 1986 through 2005 the didaactic lecture format described above was used, and the course offerings assessed here used that format.</p>
<section id="course-offerings" class="level3">
<h3 class="anchored" data-anchor-id="course-offerings">Course Offerings</h3>
<p>Complete records including gradebooks, syllabi and instructor notes were available for ten offerings of the course between 1986 and 2005. De-identified gradebooks from those ten offerings were used for the assessment of the didactic lecture approach to teaching. For each student the homework submission rate (percent of assignments that were submitted), exams score (the average of all exam scores) and the deviation of the exams score from the class average exams score were computed. The instructor’s notes from each offering were examined and relevant observations were extracted. Table @ref(tab:offering-data) provides summary information about the course offerings used in the assessment. It may be noted that the number of homework assignments per course offering varied between 9 and 12 except for the 2005 offering where there were 22 homework assignments. This large increase was the result of switching from one assignment per week (with several problems per assignment) to one assignment per class meeting (with one problem per assignment).</p>
<p><code>{r offering-data} load("../results/course_offering_summary.rda") course_offering_summary$sub_rate &lt;- signif(course_offering_summary$sub_rate,3) course_offering_summary$exams_score &lt;- signif(course_offering_summary$exams_score,3) kbl(course_offering_summary, booktabs=TRUE, escape=FALSE, caption="Course Offerings Assessed",     col.names=linebreak(c("Year","Number\nof\nStudents","Number\n of\nAssignments","Homework\nSubmission\nRate","Number\nof\nExams","Average\nExams\nScore"),align = "c"),     align = "cccccc") %&gt;%    kable_classic() %&gt;%    kable_styling(latex_options = "hold_position",                 full_width = FALSE)</code></p>
<p>The learning objectives and information presented in the lectures was essentially the same every year. The table does not suggest a trend in exams score over time, but it does show year-to-year variation. This might be expected since no two offerings of the course are identical. Instead of comparing exams scores across multiple offerings of the course, the deviation of a student’s exams score from the mean <em>for their course offering</em> can be used. The boxplot in Figure @ref(fig:exams-scores) represents distributions of exams scores for the course offerings. In this figure the boxes enclose the interquartile range (25<sup>th</sup> through 75<sup>th</sup> percentiles), the horizontal lines within the boxes represent the median, the vertical lines span the first and fourth quartiles and the dots represent outliers. Figure @ref(fig:deviations) shows the same information for the deviations of the students exams scores from the mean exams score for their course offering. The figures show that using deviations from the mean exams score eliminates much of the year-to-year variation.</p>
<p><code>{r exams-scores, fig.cap="Distributions of Exams Scores by Course Offering"} load("../data/by_offering_data.rda") scoresBox &lt;- ggplot(data = by_offering_data, aes(year,exam_score)) +   geom_boxplot() +   labs(x = "Year",        y = "Exams Score (%)")  scoresBox</code></p>
<p>&nbsp;</p>
<p><code>{r deviations, fig.cap="Distributions of Exams Scores Deviations by Cours Offering"} deviationsBox &lt;- ggplot(data = by_offering_data, aes(year,dev)) +   geom_boxplot() +   labs(x = "Year",        y = "Deviation from the Mean of the Course Offering Exams Scores (%)")  deviationsBox</code></p>
</section>
<section id="the-purpose-and-basis-for-assessment" class="level3">
<h3 class="anchored" data-anchor-id="the-purpose-and-basis-for-assessment">The Purpose and Basis for Assessment</h3>
<p>The quote, “Learning is something that students do, not something that is done to them”, attributed to Alfie Kohn, brings out an important point. No matter how excellent the teaching and course design are, a student will likely fail to attain the course learning outcomes if they do not make an effort to do so. The primary purpose of this assessment was to determine what might be done to make it easier for students <em>who do make an effort</em> to meet the learning objectives of the course. Doing so might also lead to deeper and longer-lasting learning[refs]. The assessment was guided by three well-established principles of learning, referred to here as the mastery, feedback and motivation principles.</p>
<ul>
<li><strong>The Mastery Principle</strong> states that to develop mastery, students must acquire component skills, practice integrating them and know when to apply what they have learned[refs].</li>
<li><strong>The Feedback Principle</strong> states that states that goal-directed practice coupled with targeted feedback enhances the quality of students’ learning[refs].</li>
<li><strong>The Motivation Principle</strong> states that students’ motivation determines, directs and sustains what they do to learn[refs].</li>
</ul>
<p>Motivation has many aspects[refs]; this assessment uses achievement goal theory[refs] to characterize motivation. According to achievement goal theory, students facing a task will adopt one of four achievement goal orientations[refs]: performance-approach (demonstrate competence), mastery-approach (develop competence), performance-avoidance (don’t show incompetence), or mastery-avoidance (don’t fail to fully develop competence). When the task is solving a homework problem, “getting the correct answer” is a performance-approach goal, “knowing how to solve the problem” is a mastery-approach goal, “not getting an incorrect answer” is a performance-avoidance goal and “not forgetting how to solve the problem” is a mastery-avoidance goal. Achievement goal theory further posits that instructor messaging, course policy, etc. create a course goal structure that makes one of the goal orientations salient in the class or course[refs]. A student’s perception of this goal structure influences the goal orientation they adopt[refs]. Generally, a mastery-approach goal orientation is desired by instructors because it is associated with favorable student learning behaviors and study strategies[refs].</p>
</section>
<section id="the-assessment-method" class="level3">
<h3 class="anchored" data-anchor-id="the-assessment-method">The Assessment Method</h3>
<p>The assessment considered both the instructor’s delivery of the course and the students’ approaches to learning (as observed by the instructor). Each aspect of the course was examined to determine whether it was detrimental, lacking or beneficial with respect to the following critical features extracted from the principles of learning, above.</p>
<ul>
<li>learning component skills - here the component skills were considered to include understanding what reactor mole and energy balances are, being able to identify mole and energy balance equations for different types of ideal reactors, knowing how to simplify the equations when appropriate, knowing defining equations for quantities that appear in the balance equations or are used in the practice of reaction engineering, knowing how to solve the equations, knowing how to minimize or maximize quantities using the equations and knowing how to estimate parameters in the equations using experimental data.</li>
<li>knowing which component skills to use and when to use them - here this is taken to include selecting the correct mole and energy balances for a given problem, knowing whether simplifications are permissible, knowing when and how to express variables in terms of different variables to formulate the equations and then knowing whether to estimate parameters appearing in the equations, solve the equations, minimize or maximize a quantity appearing in the equations or specify values for some quantities appearing in the equations to meet stated objectives.</li>
<li>practicing of the integration of those component skills with the mastery-approach goal of knowing what to do and how to do it in order to answer a question - here it is assumed that getting the correct answer is a natural consequence if knowing how to get the answer is the primary goal.</li>
<li>providing timely, targeted feedback - here, in addition to identifying specific mistakes that were made on any one problem, the “targeting” is taken to include an assessment of current problem-solving mastery and ideas for improving it.</li>
<li>creating a mastery-approach course goal structure.</li>
</ul>
</section>
<section id="assessment-of-the-course" class="level3">
<h3 class="anchored" data-anchor-id="assessment-of-the-course">Assessment of the Course</h3>
<p><strong>Didactic Lectures</strong> The lectures organized and communicated component knowledge effectively. This was reinforced by the availability of many very good textbooks to which students were referred, typically with one being strongly recommended or required. The lectures, and many of the examples available in the textbooks, were also effective in describing and illustrating component skills wherein that knowledge is used to solve problems and answer questions. However, while they clearly showed <em>what to do</em>, they consistently failed to show or explain <em>how the expert knew to do those things</em>. Herein, this shortcoming will be referred to as failing to expose expert thinking.</p>
<p>Additionally, the instructor observed that students rarely, if ever, asked him how he knew to do what he did when solving a problem[refs]. The reason may well be that they don’t realize this gap exists in their understanding. That is, they may fully understand all of the steps that the instructor took when solving the problem. It isn’t until they are called upon to solve a problem from scratch that they realize that don’t know how to start or proceed. Unfortunately, if the students use the mimicry approach described below when they solve homework problems, and if they prepare for exams by reading solved problems, the first time they may become aware of this gap in their knowledge may be on an exam.</p>
<p>The author also observed that many students do not prepare prior to class, e. g. by completing pre-class reading assignments. As a consequence, they may not have identified points that are not clear to them and they may miss the opportunity to ask for clarification during the lecture.</p>
<p><strong>Homework</strong> The average homework submission rate was greater than 80% for all course offerings except in 1994 when it was 79.3%. Prior to 2005, the number of homework assignments was between 9 and 12. There were multiple questions per assignment with assignments due once per week. The instructor observed that many students completed the assignments just before they were due. During lectures, the instructor was the person solving problems while the students watched. As a consequence, many students went a week without actively engaging with the course until the next assignment came due. In an attempt to force more regular engagement, in 2005 the instructor switched to assignments that consisted of a single problem with an assignment due at each class meeting. This increased the number of assignments to 22, but did not appear to affect the submission rate which remained high (84.4%).</p>
<p>Homework assignments were flawed in multiple respects. While they afforded some practice, they were also graded and counted in a student’s final grade for the course. As such, they were not true practice in the sense that they did not provide an opportunity to fail and learn from one’s failure without penalty. Additionally, the fact that they were graded on the accuracy of the answer obtained might have contributed to establishing a performance-approach goal structure. That is, if the homework is graded on accuracy and counts toward the final grade, students are likely to make getting the correct answer their goal when solving it. The homework assignments contained little, if any, messaging on the importance of knowing how to get the correct answer.</p>
<p>The instructor observed that many students employed a mimicry approach when solving homework[refs]. That is, instead of trying to solve the problem themselves, they began by locating a solved problem that appeared to be similar to the assigned problem and then mimicked that solution. Worse, students sometimes found a solution to the assigned problem and essentially copied it. While mimicry can eventually lead to learning, there are more effective learning strategies[refs]. In essence, mimicry is a very efficient way to get the correct answer, but is less effective for developing mastery. The popularity of the mimicry approach strongly suggests that the students had adopted a performance-approach goal orientation (get the correct answer) and not a mastery-approach orientation. It is critically important to note that when a student uses the mimicry approach, they don’t need to know what to do, but only how to do it. That is, they are not required to practice expert thinking because the solution they are mimicking provides it.</p>
<p>As already noted, the instructor observed that many students did not begin homework solutions until the last minute. As a result, if they realized while solving a problem that they didn’t fully understand something, they were unable to seek clarification or ask questions before the homework was due. As noted next, they may or may not have gotten that clarification from the feedback on their homework, or by seeking help outside of the classroom.</p>
<p><strong>Homework Feedback</strong> After each homework assignment was submitted, it was graded and marked at points where mistakes had been made. Feedback on the students’ solutions then consisted of returning the marked submissions and posting a correct solution that they could refer to. This form of feedback is also flawed in many respects. Like the examples presented in lecture, the posted solutions showed failed to expose expert thinking. Marking mistakes and posting a solution puts the onus on the student to compare their solution to the posted solution, determine what they did wrong and understand what they should have done instead. The learning principles state that feedback should be targeted. This form of feedback targets the reason the student failed to get the correct answer. It does not target whether or not the student knew <strong>how</strong> to get the correct answer. As such, its targeting may contribute to a performance-approach course goal structure and student adoption of performance-approach goals.</p>
<p>Feedback also should be timely[refs]. Generally the marking of homework submissions was completed in a week or less, and always before the next exam. Still, there was a delay between when the students complete the assignment and when the feedback was available. The instructor observation that many students do not pick up their marked solutions in a timely manner exacerbates this shortcoming[refs]. By the time the feedback is received, the student may not recall their thought processes at the time they were solving the problem, making it difficult to identify a misconception of how to solve that type of problem. In some cases, the students never received any feedback either because they did not pick up their graded homework or because they did not look at it or the posted solution[refs].</p>
<p><strong>Help-Seeking Opportunities</strong> In addition to asking whether students had any questions during each lecture, the instructor and the teaching assistants held regular office hours. This provided three or more different times each week when students could seek help. The instructor observed that during office hours some students asked questions in order to clarify their understanding of the component knowledge and skills or how to use them to solve problems. However, other students’ questions revolved around the number of points they lost for a particular marked mistake[refs]. The author takes this as an indicator of those students holding a performance-approach goal orientation. In some cases, the latter questions indicated that the students had not looked at the posted solution, which, in turn, indicates that they did make use of the feedback it provided[refs].</p>
<p><strong>Exams</strong> The questions on exams were similar to questions on homework assignments and each exam question could be mapped to a specific course learning objective. There were no “trick” questions (at least not intentionally) and the instructor attempted to maintain a consistent level of difficulty both between homework and exams and across course offerings. The lecture content was effectively the same in all course offerings. Given those factors and the similarity of the deviations in Figure @ref(fig:deviations), the deviation of a student’s exams score from the mean of the exams scores for their class offering was taken to be good indicator of that student’s attainment of the course learning objectives.</p>
<p><code>{r trendline} sub_dev_fit &lt;- lm(dev ~ sub, data = by_offering_data) sub_dev_coef &lt;- summary(sub_dev_fit)$adj.r.squared</code></p>
<p>Unfortunately, the available data did not provide measures of either student effort or student motivation. A student’s homework submission rate might represent a crude indicator of effort, in which case some association between homework submission rate and exams scores might be expected. Figure @ref(fig:scatter) suggests neither a strong correlation nor a highly positive one. Indeed, the least-squares trendline shown in the figure has a slope of <code>r round(sub_dev_fit$coefficients[2],3)</code> and R<sup>2</sup> is equal to <code>r  round(sub_dev_coef,3)</code>.</p>
<p><code>{r scatter, fig.cap="Association between Submission Rate and Exams Score Deviations"} subDevCorrel &lt;- ggplot(by_offering_data, mapping = aes(x=sub, y=dev)) +   geom_point() +   labs(x = "Homework Submission Rate (%)",        y = "Exams Score Deviation (%)") +   geom_abline(slope = sub_dev_fit$coefficients[2], intercept = sub_dev_fit$coefficients[1]) subDevCorrel</code></p>
<p>When examining the scatterplot it should be recognized that some students will submit a homework solution in hope of getting some points for it even though they did not make a strong effort to actually solve the problem or problems[refs]. Further, only certain discrete homework submission rates are possible, with the possible rates determined by the total number of assignments. Despite the weak overall correlation, examination of the deviations for students with a 100% homework submission rate is revealing. The distribution of exams scores deviations among student with a 100% submission rate is broader than the distribution of all other students combined. Put differently the student with the largest positive deviation and the student with the most negative deviation <strong>both</strong> submitted 100% of the homework! This observation, together with the relatively low trendline slope, clearly establishes that submission of homework assignments does not necessarily result in attainment of the course learning outcomes.</p>
<p>This raises the question, “are homework assignments ineffective teaching and learning tools, or alternatively, is there a better measure of a student’s effort to learn through completion of homework assignments than their homework submission rate?” The only measure of effort in the present data is the homework submission rate, so this question remains unanswered. On the basis of the learning principled, the author believes that homework problems can be highly beneficial and effective learning tools, but in the present course both the manner in which homework is implemented and the metric used to measure homework can be improved.</p>
<p>The instructor observed that on exams, some students attempt to solve a problem using an approach that applies to a different type of problem (e.g.&nbsp;they attempt to solve a reactor response problem using an approach that applies to a parameter estimation problem). The instructor found that some students worked to the very end of the time allotted for exams and still were unable to complete their solution. Some students commented that they always get anxious during exams and it affects their performance[refs].</p>
<p>The instructor also noted that many students study for exams by reading and examining problems for which a solution is available[refs]. They strive to ensure that they understand those solutions, but never determine whether they can solve problems independently without having a solution to mimic. If the solved problems do not expose expert thinking, studying in this way may be incomplete. Indeed, in the days immediately before exams, the instructor did caution the classes that understanding and being able to explain someone else’s solution to a problem is not the same as being able to generate that solution independently.</p>
<p><strong>Exams Feedback</strong> Feedback on exam solutions was similar to homework feedback. The biggest difference is that in addition to posting the solution, the instructor presented an accelerated solution to the exam problems as part of a class lecture. The shortcomings and flaws associated with this feedback were essentially the same as for homework feedback.</p>
<p><strong>Summary</strong> The following list offers a summary of finding of findings related to the structure and teaching of the course.</p>
<ul>
<li>The didactic lectures effectively communicate component knowledge and skills needed in the course.</li>
<li>Lecture and textbook examples and posted homework and exam solutions all fail to expose expert thinking.</li>
<li>The students are not provided with any opportunity for authentic practice where they can fail and learn from their mistakes without it counting as part of their course grade.</li>
<li>Grading all homework for accuracy and including the resulting scores as part of the overall course grade may contribute to establishing a performance-approach course goal structure.
<ul>
<li>In the extreme, some students may perceive homework assignments as purely evaluative and not as opportunities to learn.</li>
<li>Students are rarely encouraged to treat problem-solving activities as opportunities to identify and address misconceptions they hold.</li>
</ul></li>
<li>Feedback provided by marking homework and exam submissions and posting a correct solution is incomplete, inappropriately targeted and not timely.</li>
<li>Some students are not able to complete the solution of an exam in the allotted time and others report exam anxiety.</li>
</ul>
<p>The assessment also generated findings and observations related to student learning behaviors. These are based on observation making their prevalence known. In the following list the observations will be attributed to “some students,” but “many students” or “a few students” might be more appropriate for items.</p>
<ul>
<li>Some students do not prepare prior to class meetings.</li>
<li>Some students employ a mimicry approach when solving homework; it is efficient in terms of getting the correct answer, but there are more effective approaches in terms of knowing how to get the correct answer.</li>
<li>Some students do not begin assignments far enough in advance of the due date to allow themselves the opportunity to seek help or clarification should they get stuck.</li>
<li>The focus of some students’ questions during office hours is points deducted for a mistake, not understanding the mistake.</li>
<li>Some students do not make appropriate use of marked submissions and posted solutions as feedback.
<ul>
<li>Some never look at the posted solution or compare their solution to it.</li>
<li>Some look only to see if they have grounds to seek a higher grade.</li>
</ul></li>
<li>Some students do not reflect upon the extent of their understanding nor adjust their learning behaviors to increase it.</li>
<li>When studying for exams, some students fail to appreciate the difference between understanding someone else’s solution to a problem and being able to generate that solution themself.</li>
</ul>
</section>
<section id="course-revision-goals" class="level3">
<h3 class="anchored" data-anchor-id="course-revision-goals">Course Revision Goals</h3>
<p>The preceding assessment identified a number of issues associated with the delivery and teaching of the course and with the learning behaviors adopted by students. The delivery and teaching items are under the direct control of the instructor. While the learning behaviors are not directly under the instructor’s control, the instructor can attempt to influence them. This section lists several course revision goals that address those issues. The rationale for each goal is presented, one or more course revisions that target the goal are identified, the reasoning behind the revisions is explained and potential issues are discussed.</p>
<p><strong>Induce Pre-Class Preparation</strong> A student who has not been exposed to the topic being considered in class will derive less benefit from attending class than a prepared student. The assessment indicated that many students do not complete pre-class reading assignments. At the same time, the manner and extent to which a student prepares for each class meeting is not under the instructor’s direct control. For these reasons, it may be desirable or necessary to provide inducements to the students to prepare for class.</p>
<p>At the end of most class meetings, the instructor summarizes that class, mentions the topic of the next class, reiterates the pre-class preparation assignment for the upcoming class and reminds students when the next homework assignment is due. This end-of-class procedure can be revised to explain to the students why the pre-class preparation assignment is important and how it will help them derive more from class time. They can be told that they may not understand everything they encounter in the pre-class preparation assignment, but that is good because they will then know to ask questions about the things they don’t fully understand. They can be told that it will also be easier to follow along in class without getting lost if they have completed the pre-class preparation assignment. This need not be done at the end of every class meeting, but the message should be repeated regularly and particularly when the instructor senses a lack of pre-class preparation.</p>
<p>A second possible revision is to start giving short, online quizzes that are due just before the class meets. The objective of these quizzes is to induce pre-class preparation, so they <strong>should not evaluate understanding</strong> of the pre-class topics. Instead, it should be possible to find the answers to quiz questions within the pre-classs preparation assignment (e.g.&nbsp;a true/false question can consist of a statement taken directly from a pre-class reading). These quizzes should have a small number of questions, perhaps five, and not be time-consuming to complete. Multiple choice, true-false, matching and fill in the blank question types should be used. If possible they should be automatically graded by a course learning management system.</p>
<p>The main issue to consider when using pre-class quizzes of this type is their point value relative to the overall course score. The author believes that the overall course score should be a strong indicator of the degree to which a student has attained the course learning objectives. If the value of the quizzes is too low, they won’t induce students to complete the pre-class preparation assignments. If the value is too high, they could significantly increase the overall course score. Since they do not evaluate understanding, this is not desirable. Having the total possible points awarded for these quizzes represent 5% or less of the overall course score seems reasonable.</p>
<p><strong>Communicate Necessary Information and Illustrate its Use</strong> Students must know relevant theory and definitions, be able to recognize important equations, know how to simplify equations, etc. and they need to know how to use that information to solve problems and answer questions. The assessment indicated that the didactic lectures were an effective means of communicating this information, with the exception of exposing expert thinking which is the next item on this list.</p>
<p>However, using class time for this purpose may be sub-optimal. The teaching format could be revised so that this information transfer occurs outside of the classroom, via videos and/or readings. Class time could then be used to engage students in using the information and for providing instant access to and immediate feedback from the instructor. This teaching format, now known as a flipped classroom, has been advocated for this very reason.</p>
<p>Two potential issues can be identified. First, one of the advantages of didactic lectures is that the instructor curates the information available in the textbook, presenting and expounding on only the more important aspects. In most cases, simply replacing didactic lectures with assignments to read sections of the textbook does not provide an equivalent level of curation. While producing videos of didactic lectures has other drawbacks, it at least preserves the curation.</p>
<p>The second issue has already been mentioned: inducing pre-class preparation. If information transfer is moved out of the classroom, it becomes much more important that students do, in fact, prepare for class. This needs to be communicated to the students and the inducements for preparing must be effective. Even so, each in-class session should begin with a very brief review of the most important points from the pre-class assignment and an opportunity for the students to ask questions.</p>
<p><strong>Expose Expert Thinking</strong> The mastery principle notes that once students have acquired necessary component knowledge, they must know when to use it. The assessment concluded that the didactic lectures effectively communicated the requisite knowledge and how to use it, but they failed to teach the student to know when to use that knowledge. That is, they failed to expose expert thinking. Potential revisions to address this goal involve adding content to the lectures and to posted solutions to homework and exam problems.</p>
<p>As information is presented over the duration of the course, each time a new type of problem is encountered for the first time, the lectures can be revised to explicitly explain how an expert would identify the new problem type and differentiate it from other problem types. This can then be followed by an enumeration of the general steps used by an expert when solving that type of problem. Importantly, the students should be made aware that they need to know these things to be successful in the course.</p>
<p>A second potential revision involves exposing expert thinking each time the instructor illustrates the solution of a problem. Between reading the problem and describing the first step toward solving it, a brief presentation/explanation of how the instructor knows what to do can be inserted. If in-class learning activities include problem-solving, as proposed in the next item listed, the students can be given an opportunity to practice expert thinking as part of the activity. A third potential revision involves adding expert thinking between the problem statement and the first step in the solution to every worked problem, homework problem solution and exam problem solution provided to the students. The main issue with this revision is that many textbook examples do not expose expert thinking directly. The instructor may want to provide addenda for examples in pre-class readings that do not expose expert thinking. If illustration of the use of information is being moved from an in-class didactic lecture to a pre-class video, the expert thinking can be added at the time the video is recorded.</p>
<p><strong>Provide Authentic Practice</strong> Both the mastery principle and the feedback principle indicate that practice is essential. As used here, “authentic” practice means a student can attempt to solve a problem and make a significant, even outlandish, mistake and not be penalized for it. When coupled with a mastery-approach goal orientation and appropriate feedback, the only impact on the student who makes the mistake is that they learn from it. If the course is revised to use a flipped classroom format as suggested above, the majority of in-class time can then be devoted to problem solving activities that are neither turned in nor graded in any way. When a new problem type is first encountered, these activities can be scaffolded to guide the students through the solution. Then, as they gain experience with that problem type, the scaffolding can be removed. The scaffolding should expose expert thinking by including identification of the problem type and enumeration of the general process for obtaining an answer. If the technology is available, another option is to use clickers in the scaffolded portion of an activity. If student participation in activities like these is observed to be an issue, a possible inducement to participate might involve awarding participation points for answering clicker questions (irrespective of whether the answer was correct). In-class problem solving actvities also present opportunities for mastery coaching and timely, targeted feedback, as described below.</p>
<p>A second potential course revision to provide authentic practice involves not grading the accuracy of every homework assignment. This can take a number of forms, each with its own issues: (i) making some/all homework assignments optional, (ii) requiring submission of some/all assignments and awarding points for submitting it without grading it for accuracy or (iii) requiring submission of some/all assignments but grading them <strong>only</strong> on the basis of the apparent effort put forth and not their accuracy. The issues with all of these revisions come down to inducements. With no grade and no inducement, some students won’t complete the assignments. Large inducements introduce the possibility of increasing a student’s overall course score despite their solutions being incorrect. As with inducements considered previously, a careful and thoughtful balance is required. By eliminating homework assignments the previously counted toward overall course score, these revisions may cause exam scores to become more heavily weighted in the overall evaluation of the students. Care must be taken to ensure the exams represent a true and fair measure of a student’s attainment of the learning objectives.</p>
<p>For any homework assignment that is optional, required but not graded or graded on effort only, the problem statement should explicitly say that the purpose of that assignment is for the students to practice solving the problem so they can gauge their readiness for answering a similar question on an exam. They should be told that while getting the correct answer is important, knowing how to solve the problem is more important. If other assignments are graded for correctness and accuracy, the students should periodically be reminded that homework assignments are not <strong>only</strong> intended to evaluate their abilities, but also to provide them with opportunities to practice and develop those abilities.</p>
<p><strong>Provide Feedback that is Timely, Complete and Properly Targeted</strong> Feedback can help students identify their misunderstandings and misconceptions, as well as motivate (or de-motivate) them to persevere. The assessment indicated that in this course, the feedback was not timely, it helped the students find mistakes, but left it to them to associate those mistakes with an underlying misunderstanding. It implicitly targeted getting the correct answer. Several potential revisions could address these shortcomings.</p>
<p>If the course is flipped and class time is largely devoted to problem-solving activities, the instructor can circulate among the students checking their progress and answering their questions. If a question arises several times or the instructor observes multiple students sharing the same misconception, the activity can be interupted with a brief mini-lecture addressing that misconception. (The same can be done with clicker questions if a large percentage of the participants do not answer correctly.) In this way, the students can receive instantaneous feedback that is targeted to correct misunderstanding and increase mastery. The instructor can also comment on how their mastery is improving to individuals or the whole class. Alternatively the instructor can tell the class to reflect upon their progress since they first begain solving a particular type of problem, etc. These revision may provide motivation.</p>
<p>Another potential revision is to implement the use of homework wrappers with each homework assignment. As used here, a homework wrapper is a short writing within which the student reflects upon their solution to the problem. The question should be written so that in order to respond appropriately, the students will need to compare their solution to the posted, correct solution, assess their ability to solve problems of this type and determine what they can do to improve their mastery if need be. As such, homework wrappers can help students make better use of the feedback a posted solution provides and simultaneously lead them to self-generate feedback that is targeted on mastery over performance. The instructor can also respond to submitted wrappers with encouraging comments, comments intended to clarify a point, suggestion to meet during office hours, etc.</p>
<p><strong>Equitably Evaluate Learning Outcomes</strong> In the course assessment the instructor noted that some students could not complete exams in the allotted time and other students stated that anxiety often results in exam solutions that don’t accuratey reflect their abilities and understanding. It was also noted above that if less (or none) of the homework assignments are graded and included in overall course score, then exams will assume a larger fraction of the students’ final grades.</p>
<p>Potentially the type and format of student evaluation can be revised to better reflect a student’s attainment of the course learning objectives. One of the few positive results of the COVID-19 pandemic was that some instructors were uncomfortable with giving exams via teleconference and devised alternative forms of evaluation including projects, papers, etc. Those changes are all potential revisions that can establish a more equitable evaluation of student learning. One change that the author made was to increase the number of exams, with only one problem on each exam. Further, the exams were split into an in-class portion and a take home portion. On the in-class portion the students were told to fully formulate the solution to the problem, but not to perform any of the associated calculations. They were then given 24 hours for the take-home part of the exam wherein they were to perform the calculations. This potential revision, by having only one problem and not requiring in-class calculations, greatly reduces the pressure or need to rush that some students feel while taking the exam. It reduces the reward for speed in favor of rewarding understanding.</p>
<p><strong>Establish a Mastery-Approach Course Goal Structure</strong> According to achievement goal theory, students perceive a course goal structure based on instructor messaging, course policy, etc. The perceived goal structure influences the goal orientation that students adopt, and that, in turn, affects their learning behaviors and study methods. A master-approach goal orientation is associated with desirable study strategies, so the instructor should strive to establish a master-approach class goal structure. There are many possible course revisions to accomplish this.</p>
<p>One set of potential course revisions can be grouped under the heading of “mastery coaching.” Mastery coaching involves repeated statements by the instructor that emphasize learning and understanding how to solve problems. In a flipped classroom, the instructor can engage in mastery coaching while circulation among the students announcing things like “it is good to get stuck because that shows you a point you haven’t yet fully mastered,” and “the purpose of this activity isn’t go get the answer, it’s to make sure you know how to get the answer. If you know that, the correct answer will follow naturally.” Similarly, in class meetings immediately before exams, the instructor can note that “understanding someone else’s solution is not the same as generating the solution independently,” and “a good way to study for an exam is to look at a problem for which a solution is available and try to set up the calculations for solving it without looking at the solution; only look at the solution after you are fininshed or if you get stuck.”</p>
<p>Introducing effort-based grading as suggested above also contributes to establishing a mastery-approach goal structure. A further potential revision is to provide the solution to these problems at the time they are assigned, and telling the students that the purpose of the assignment is for them to find out whether they know how to solve this type of problem. Giving them the answer before they start the assignment clearly indicates that getting the correct answer isn’t the purpose.</p>
</section>
<section id="conclusions" class="level3">
<h3 class="anchored" data-anchor-id="conclusions">Conclusions</h3>
<p>Assessment of ten offerings of an engineering problem-solving course revealed a number of aspects of the course structure and teaching that did not fully align with established principles of how students learn. Instructor observations from those offerings additionally identified maladaptive or sub-optimal student learning behaviors. The assessment results suggest that a performance-approach goal structure exists in the class, and students adopt a performance-approach goal orientation in which getting the correct answer predominates over the mastery-approach goal of <strong>knowing how</strong> to get the answer. Seven revisions to the course would address many of its shortcomings.</p>
</section>
<section id="cited-references" class="level3">
<h3 class="anchored" data-anchor-id="cited-references">Cited References</h3>
</section>
</section>
<section id="license" class="level2 ch">
<h2 class="ch anchored" data-anchor-id="license">License</h2>
<p>This website is licensed under the <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-Non-Commercial-NoDerivatives 4.0 International License</a> (CC BY-NC-ND 4.0).</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/BuffaloBadger\.github\.io\/ToTaL_Engineering\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Copyright 2024, Carl Lund
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>